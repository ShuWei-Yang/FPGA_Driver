syntax = "proto3";

package motor_msg;
import "std.proto";

// ====== DC Motor Command / State ======
message MotorCmd {
  float position = 1;
  float torque   = 2;
  float kp       = 3;
  float ki       = 4;
  float kd       = 5;
}

message DcState {
  float position = 1;
  float velocity = 2;
  float current  = 3;
  float torque   = 4;
}

// ====== Servo Command / State ======
message ServoCmd {
  uint32 bus           = 1;  // 1,2,3
  uint32 id            = 2;  // 1,2
  float  position      = 3;
  float  current_limit = 4;
  float  kp            = 5;
  float  ki            = 6;
  float  kd            = 7;
}

message ServoState {
  uint32 bus      = 1;
  uint32 id       = 2;
  float  position = 3;
  float  velocity = 4;
  float  current  = 5;
}

// ====== 每條腿的控制組合 ======
message LegCmd {
  MotorCmd  dc    = 1;  // ← 這裡原本錯寫 DcCmd
  ServoCmd  servo = 2;
}

message LegState {
  DcState    dc    = 1;
  ServoState servo = 2;
}

// ====== 六條腿的封包 ======
message MotorCmdStamped {
  std_msg.Header header = 1;
  MotorCmd       cmd    = 2;
}

message MotorStateStamped {
  std_msg.Header header = 1;
  LegState L1 = 2;
  LegState L2 = 3;
  LegState L3 = 4;
  LegState R1 = 5;
  LegState R2 = 6;
  LegState R3 = 7;
}

